/*********************************************
 * OPL 22.1.0.0 Model
 * Author: mars
 * Creation Date: 6 Oct 2022 at 22:40:28
 *********************************************/

int NVertex = 3;
range Vertexs = 1..NVertex;

float c[Vertexs][Vertexs] = [
	[99999999, 2, 4],
	[3, 99999999, 5],
	[1, 4, 99999999]
];

dvar int+ x[Vertexs][Vertexs];
int u[Vertexs] = [0, 1, 2];

minimize (sum(i in Vertexs, j in Vertexs) c[i][j] * x[i][j]) 
				- (sum(i in Vertexs) c[i][i] * x[i][i]);

subject to {
  forall(i in Vertexs, j in Vertexs) x[i][j] <= 1;
  forall(i in Vertexs, j in Vertexs) x[i][j] >= 0;
  
  forall(i in Vertexs) 
  	(sum(j in Vertexs) x[i][j]) - (x[i][i]) == 1;
  forall(j in Vertexs) sum(i in Vertexs)
    (sum(j in Vertexs) x[i][j]) - (x[j][j]) == 1;
	
  forall(i in 2..NVertex, j in 2..NVertex) if (i != j) {
    u[i] - u[j] + NVertex * x[i][j] <= 1;
  };
  
}

